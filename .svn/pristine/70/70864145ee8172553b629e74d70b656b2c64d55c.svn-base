<html>
<head>

    <script src="http://www.google.com/jsapi" type="text/javascript"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>

    <!-- jQuery Modal -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
    <script type="text/javascript" >
        google.load("jquery", "1.6.3");
        google.load("jqueryui", "1.8.16");
    </script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <!-- Remember to include jQuery :) -->



    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css"/>


   <!-- <script src="dragndrop.js" type="text/javascript"></script>-->
    <style type="text/css">
        /*.col{
            float:left;
            padding: 5px 5px 5px 5px;
            margin: 5px 5px 5px 5px;
        }*/

        #col1{
            /*width:16%;
            height:100%;
            border:1px solid black;*/

        }
/*
        #control{
            width:16%;
            height:100%;
            border:1px solid black;

        }*/

        .editdrag{
            border:1px solid black;
        }

        .drag{

            border:1px solid black;


        }

        #droppable{
           /* width:60%;
            height :100%;
            border:1px solid black;*/
        }

        #formcontrol .remove{

            display: none !important;
        }

    </style>
</head>
<body>
<div class="modal" id="logic" role="dialog" style="position: absolute;
    top: 100px;
    right: 450px;width: 610px;
    height: 400px;
    left: 300px;max-width: 800px;">


    <div class="row" style="margin-top: 50px;">

        <div class="row">
            <div class="col-md-12 col-sm-12">
                <form ng-submit="addFooterValueOperation()" class="ng-pristine ng-valid">
                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Operand1</th>
                            <th>Operation</th>
                            <th>Operand2</th>
                            <th>Result</th>
                            <th>Clear Row</th>
                        </tr>
                        </thead>
                        <tbody class="detaillogic">


                        </tbody>
                    </table>




                    <div class="form-group">
                        <button type="button" class="btn btn-primary hi_btn" ng-click="savedropdown(dropdownlist)">
                            Save
                        </button>



                        <a href="#close-modal" rel="modal:close" ><button type="button" class="btn btn-primary">Close
                        </button></a>
                        <button type="button"  class="btn btn-primary addnew pull-right" id="addlogic"  >Add New</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="calc_key" role="dialog" style="position: absolute;
    top: 100px;
    right: 450px;width: 610px;
    height: 400px;
    left: 300px;max-width: 800px;">


    <div class="row" style="margin-top: 50px;">

        <div class="row">
            <div class="col-md-12 col-sm-12">
                <form ng-submit="addFooterValueOperation()" class="ng-pristine ng-valid">
                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Operand1</th>
                            <th>Operation</th>
                            <th>Operand2</th>
                            <th>Result</th>
                            <th>Clear Row</th>
                        </tr>
                        </thead>
                        <tbody class="detailcal">


                        </tbody>
                    </table>




                    <div class="form-group">
                        <button type="button" class="btn btn-primary hi_btn" ng-click="savedropdown(dropdownlist)">
                            Save
                        </button>



                        <a href="#close-modal" rel="modal:close" ><button type="button" class="btn btn-primary">Close
                        </button></a>
                        <button type="button"  class="btn btn-primary addnew pull-right" id="addcal"  >Add New</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="plusLinkage" role="dialog" style="position: absolute;
    top: 100px;
    right: 450px;width: 500px;
    height: 400px;
    left: 300px">


<div class="row" style="margin-top: 50px;">
    <a href="#close-modal" rel="modal:close" class="close-modal ">Close</a>
    <div class="row">
        <label>PlusKey</label>
        <div class="col-md-12 col-sm-12">
            <form ng-submit="addFooterValueOperation()" class="ng-pristine ng-valid">
                <table class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th>Codes</th>
                        <th>Clear</th>

                    </tr>
                    </thead>
                    <tbody class="detail3">

                    </tbody>
                </table>




                <div class="form-group">
                    <button type="button" class="btn btn-primary hi_btn" ng-click="saveplus()">
                        Save
                    </button>



                    <button type="button" class="btn btn-primary" ng-click="removeServices()" data-dismiss="modal">Close
                    </button>
                    <button type="button"  class="btn btn-primary addnew pull-right" id="add3"  >Add New</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal" id="drop" role="dialog" style="position: absolute;
    top: 100px;
    right: 450px;width: 500px;
    height: 400px;
    left: 300px">


    <div class="row" style="margin-top: 50px;">
        <a href="#close-modal" rel="modal:close" class="close-modal ">Close</a>
        <div class="row">
            <div class="col-md-12 col-sm-12">
                <form ng-submit="addFooterValueOperation()" class="ng-pristine ng-valid">
                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Table</th>
                            <th>From Column</th>
                            <th>Compare Column</th>

                        </tr>
                        </thead>
                       <tbody class="detail">

                       </tbody>
                    </table>




                    <div class="form-group">
                        <button type="button" class="btn btn-primary hi_btn" ng-click="savedropdown(dropdownlist)">
                            Save
                        </button>



                        <a href="#close-modal" rel="modal:close" ><button type="button" class="btn btn-primary">Close
                        </button></a>
                        <button type="button"  class="btn btn-primary addnew pull-right" id="add"  >Add New</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="ex1" role="dialog" style="position: absolute;
    top: 100px;
    right: 450px;
    width: 590px;
    height: 405px;
    left: 300px; max-width:700px;">


                <div class="row" style="margin-top: 50px;">

                    <div class="col-md-12">

                        <form class="form-horizontal">
                            <fieldset>
                                <div class="form-group" ng-hide="operation=='Edit'">
                                    <label class="col-md-4 control-label" >Module Name<span>*</span></label>
                                    <div class="col-md-6" style="position:relative;">
                                        <select class="form-control input-md" id="moduleName" name="moduleName" [(ngModel)]="moduleName" (change)="getSubModule()" onclick="getMenuDetails()">
                                           <!-- <option [value]="menu.menuName"  *ngFor="let menu of getMenuDetails">{{menu.menuName}}</option>-->
                                            <option value="createNew">Create New</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" ng-hide="operation=='Edit'">
                                    <label class="col-md-4 control-label" >Sub-Module Name<span>*</span></label>
                                    <div class="col-md-6" style="position:relative;">
                                        <select class="form-control input-md" id="submoduleName" name="submoduleName" [(ngModel)]="submoduleName">

                                            <option value="createNew">Create New</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" ng-hide="operation=='Edit'">
                                    <label class="col-md-4 control-label" >Page Name</label>
                                    <div class="col-md-6" style="position:relative;">
                                        <select name="secoundLevelAccountMaster" id="secondLevel" [(ngModel)]="pageName"  ng-options="firstLevel as firstLevel.account_name+':'+firstLevel.stringAccountCode for firstLevel in accountMasterSecoundLevelList"  class="form-control input-md">
                                            <option value="createNew">Create New</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-md-4 control-label" >Name<span>*</span></label>
                                    <div class="col-md-6" style="position:relative;">
                                        <input id="givenName" name="name"
                                               type="text" placeholder="Account Name"
                                               [(ngModel)]="name"
                                               class="form-control input-md"/>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-md-4 control-label">Page Required<span>*</span></label>
                                    <div class="col-md-6" style="position:relative;">
                                        <input type="radio"  name="pageRequired" [(ngModel)]="pageRequired" value="true"> Yes
                                        <input type="radio"  name="pageRequired" [(ngModel)]="pageRequired" value="false"> No
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-4 control-label">Table Required<span>*</span></label>
                                    <div class="col-md-6" style="position:relative;">
                                        <input type="radio"  name="tableRequired" [(ngModel)]="tableRequired" value="true"> Yes
                                        <input type="radio"  name="tableRequired" [(ngModel)]="tableRequired" value="false"> No
                                    </div>
                                </div>
                            </fieldset>
                            <div class="modal-footer">
                                <button id="saveMenu" type="button" class="btn btn-default" ng-disabled="isDisabled" ng-hide="operation=='Edit'"
                                        (click)="saveModule()">Save
                                </button>
                                <a href="#close-modal" rel="modal:close" ><button type="button" class="btn btn-primary">Close
                                </button></a>

                            </div>
                        </form>
                    </div>
                </div>
            </div>



<script type="text/javascript">
    $(function()
    {
        $('#add3').click(function()
        {
            addnewrow3();
        });
        $('body').delegate('.remove1','click',function()
        {
            $(this).parent().parent().remove();
        });

    });

    function addnewrow3() {

        var n = ($('.detail3 tr').length - 0) + 1;
        var tr = '<tr  class="ng-scope" style="">' +
            '<td><select name="countryId" ng-model="dropdown.table" ng-options="table.keyName as table.keyValue for table in tableslist" class="form-control input-md ng-pristine ng-valid ng-empty ng-touched" ng-change="getfromcolumnlist(dropdown.table)" style=""><option value="" class="" selected="selected">-Select-</option><option label="user" value="string:user">user</option><option label="academic" value="string:academic">academic</option><option label="Customer" value="string:MM01">Customer</option></select></td>' +
            '<td><button type="button" class="btn btn-default hi_btn remove1">X </button></td></tr>';
        $('.detail3').append(tr);
    }
</script>


<div class="modal" id="searchLinkage" role="dialog" style="position: absolute;
    top: 100px;
    right: 450px;width: 500px;
    height: 400px;
    left: 300px">


    <div class="row" style="margin-top: 50px;">
        <a href="#close-modal" rel="modal:close" class="close-modal ">Close</a>
        <div class="col-md-12">

            <form class="form-horizontal">
                <fieldset>
                    <table  id ="searchTab" class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Search Columns</th>
                            <th>Clear Row</th>
                        </tr>
                        </thead>
                        <tbody>

                        <tr ng-repeat="codes in codesList ">

                            <td>

                                <select id="tabColumns" name="tabColumns" ng-model="codes.columnName"
                                        >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td> <button type="button" class="btn btn-default hi_btn"
                                         ng-click="removeAddNewSearch()">X
                            </button>
                            </td>


                        </tr>
                        </tbody>
                    </table>
                </fieldset>
                <div class="modal-footer">
                    <button id="saveMenu" type="button" class="btn btn-default" ng-disabled="isDisabled" ng-hide="operation=='Edit'"
                            (click)="saveModule()">Save
                    </button>
                    <div class="form-group">
                        <input type="button" class="add-row" value="Add Row">
                        <!--<input id="searchAddNew" type="submit"-->
                               <!--class="btn btn-primary addnew pull-right"-->
                               <!--value="Add New">-->
                    </div>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal" id="createLinkage" role="dialog" style="position: absolute;
    top: 100px;
    right: 450px;width: 500px;
    height: 400px;
    left: 300px">


    <div class="row" style="margin-top: 50px;">
        <a href="#close-modal" rel="modal:close" class="close-modal ">Close</a>
        <div class="col-md-12">

            <form class="form-horizontal">
                <fieldset>
                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>From Table</th>
                            <th>Operation</th>
                            <th>Clear Row</th>
                        </tr>
                        </thead>
                        <tbody>

                        <tr ng-repeat=" ">

                            <td>

                                <select id="FromColumns" name="FromColumns" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td>

                                <a href="#crPopupOP" id="addCrOP"  rel="modal:open" ><button class="btn btn-info pull-left" style="font-size: 30px;">Operation</button></a>
                            </td>
                            <td> <button type="button" class="btn btn-default hi_btn"
                                         ng-click="removeAddNewSearch()">X
                            </button>
                            </td>


                        </tr>
                        </tbody>
                    </table>
                </fieldset>
                <div class="modal-footer">
                    <button id="saveMenu" type="button" class="btn btn-default" ng-disabled="isDisabled" ng-hide="operation=='Edit'"
                            (click)="saveModule()">Save
                    </button>
                    <div class="form-group">
                        <input type="submit"
                               class="btn btn-primary addnew pull-right"
                               value="Add New">
                    </div>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal" id="crPopupOP" role="dialog" style="position: absolute;
    top: 100px;
    right: 450px;width: 500px;
    height: 400px;
    left: 300px">


    <div class="row" style="margin-top: 50px;">
        <a href="#close-modal" rel="modal:close" class="close-modal ">Close</a>
        <div class="col-md-12">

            <form class="form-horizontal">
                <fieldset>
                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>From Table Columns</th>
                            <th>To Table</th>
                            <th>To Table Columns</th>
                            <th>Clear Row</th>
                        </tr>
                        </thead>
                        <tbody>

                        <tr ng-repeat="codes in codesList ">

                            <td>

                                <select id="FromTabColumns" name="FromTabColumns" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td>

                                <select id="ToTabs" name="ToTabs" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td>

                                <select id="ToTabColumns" name="ToTabColumns" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td> <button type="button" class="btn btn-default hi_btn"
                                         ng-click="removeAddNewSearch()">X
                            </button>
                            </td>


                        </tr>
                        </tbody>
                    </table>
                </fieldset>
                <div class="modal-footer">
                    <button id="saveMenu" type="button" class="btn btn-default" ng-disabled="isDisabled" ng-hide="operation=='Edit'"
                            (click)="saveModule()">Save
                    </button>
                    <div class="form-group">
                        <input type="submit"
                               class="btn btn-primary addnew pull-right"
                               value="Add New">
                    </div>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>


<div class="modal" id="updateLinkage" role="dialog" style="position: absolute;
    top: 100px;
    right: 450px;width: 500px;
    height: 400px;
    left: 300px">


    <div class="row" style="margin-top: 50px;">
        <a href="#close-modal" rel="modal:close" class="close-modal ">Close</a>
        <div class="col-md-12">

            <form class="form-horizontal">
                <fieldset>
                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>From Table</th>
                            <th style="word-break: break-word">From Column</th>
                            <th style="word-break: break-word">FromCommonColumn</th>
                            <th>ToTable</th>
                            <th>ToColumn</th>
                            <th>ToCommonColumn</th>
                            <th>Operation</th>
                            <th>Clear Row</th>
                        </tr>
                        </thead>
                        <tbody>

                        <tr ng-repeat=" ">
                            <td>
                                <input name="upFromTab" id="upFromTab" ng-model=""
                                        readonly >
                                </input>
                            </td>
                            <td>

                                <select id="upFromCol" name="upFromCol" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td>

                                <select id="upFromRel" name="upFromRel" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td>

                                <select id="upToTab" name="upToTab" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td>

                                <select id="upToCol" name="upToCol" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td>

                                <select id="upToRel" name="upToRel" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                </select>
                            </td>
                            <td>

                                <select id="upOpe" name="upOpe" ng-model=""
                                >
                                    <option value="">-Select-</option>
                                    <option value="Increase">Increase</option>
                                    <option value="Decrease">Decrease</option>
                                </select>
                            </td>

                            <td> <button type="button" class="btn btn-default hi_btn"
                                         ng-click="removeAddNewSearch()">X
                            </button>
                            </td>


                        </tr>
                        </tbody>
                    </table>
                </fieldset>
                <div class="modal-footer">
                    <button id="saveMenu" type="button" class="btn btn-default" ng-disabled="isDisabled" ng-hide="operation=='Edit'"
                            (click)="saveModule()">Save
                    </button>
                    <div class="form-group">
                        <input type="submit"
                               class="btn btn-primary addnew pull-right"
                               value="Add New">
                    </div>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class = "row">
    <div class="col-md-12" style="background-color: #a8a8a8;">
        <h6 style="font-size:20px;text-align: center;color: white;">HIPRO
            <div  ngbDropdown class="d-inline-block pull-right">
                <h6 class="top" style="font-size:22px;text-align: center;color: black;margin-top: 1px;">
                   <!-- {{username}}-->
                    <!--<div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                        <a class="dropdown-item"(click)="submit(username)">Profile</a><br>
                        <a class="dropdown-item">Logout</a>
                    </div>-->
                </h6>

            </div></h6>
        <hr>

        <h6 style="font-size:20px;text-align: center;color: white;"> <a href="#ex1" id="addMenus"  rel="modal:open" ><button class="btn btn-info pull-left" style="font-size: 30px;">+</button></a>Subscription :
            <select  style="font-size:15px;text-align: center;color: black;" id="subscription"  name="" ngModel="dropdown">

            </select>
        </h6>



    </div>
</div>

<div class="container-fluid">
    <div class="row">

        <div class="col-lg-2 col" style="" id="formcontrol">
            <h3 style="text-align: center; color: white; background-color:#1470e2">Design</h3>
<div class="col-md-12" style="border: 1px solid black; text-align: center; background-color: powderblue;font-size: 10px;">
    <div class="col-md-6">
        <div id="drag1" class="drag">
           <a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a>
            <label>Text</label>
            <input type="text" class="form-control" onclick="opencontrol(this)" style="background: transparent;">
        </div>
    </div>
    <div class="col-md-6">
        <div id="drag1" class="drag">
            <a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a>
            <label>Select</label>
            <select class="form-control" onchange="getSelListVal(this)" onclick="opencontrol(this)" style="background: transparent;">
            </select>

        </div>
    </div>
</div>

            <div class="col-md-12" style="border: 1px solid black; text-align: center; background-color: powderblue;font-size: 10px;">
                <div class="col-md-6">
                    <div id="drag1" class="drag">
                        <a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a>
                        <label>Date</label>
                        <input type="date" class="form-control" onclick="opencontrol(this)" style="background: transparent;">
                    </div>
                </div>
                <div class="col-md-6">
                    <div id="drag1" class="drag">
                        <a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a>
                        <label>Textarea</label>
                        <textarea class="form-control" onclick="opencontrol(this)" style="background: transparent;"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-md-12" style="border: 1px solid black;  background-color: powderblue;text-align: center;font-size: 10px;" >
                <div class="col-md-6" >
                    <div id="drag1" class="drag">
                        <a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a>
                        <label>Checkbox</label>
                        <input type="checkbox" class="form-control" onclick="opencontrol(this)" style="background: transparent;">
                    </div>
                </div>
                <div class="col-md-6" >
                    <div id="drag1" class="drag">
                        <a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a>
                        <label>Radio</label>
                        <input type="radio" class="form-control" onclick="opencontrol(this)" style="background: transparent;">
                    </div>
                </div>
            </div>

            <div class="col-md-12" style="border: 1px solid black;  background-color: powderblue;text-align: center;font-size: 10px;" >
                <div class="col-md-6" >
                    <div id="drag1" class="drag">
                        <a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a>
                        <label>File</label>
                        <input type="file" class="form-control" onclick="opencontrol(this)" style="background: transparent;">
                    </div>
                </div>
                <div class="col-md-6" >
                    <div id="drag1" class="drag">
                        <a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a>

                        <h5 onclick="opencontrol(this)">Header</h5>
                    </div>
                </div>
            </div>


            <h3 style="text-align: center; color: white; background-color:#1470e2">Application</h3>
            <div class="col-md-12" style="border: 1px solid black; text-align: center; background-color: powderblue;font-size: 10px;">
                <div class="col-md-6" style="height: 50px;width: 50%;">
                    <div id="drag1" class="row drag"  style="border: 1px solid black; height: 40px;width: 40px">BOX</div>
                </div>
                <div class="col-md-6" style="height: 50px;width: 50%; border-left: 1px solid black;">
                    &nbsp;
                </div>
            </div>
            <div class="col-md-12" style="border: 1px solid black; text-align: center; background-color: powderblue;font-size: 10px;">
                <div class="col-md-6" style="height: 50px;width: 50%;">
                    &nbsp;
                </div>
                <div class="col-md-6" style="height: 50px;width: 50%;border-left: 1px solid black;">
                    &nbsp;
                </div>
            </div>


            <h3 style="text-align: center; color: white; background-color:#1470e2">Linkage</h3>
            <div class="col-md-12" style="border: 1px solid black; text-align: center; background-color: powderblue;font-size: 10px;">
                <div class="col-md-6" style="height: 50px;width: 50%;">
                    <a href="#searchLinkage"   id="searchPopup" rel="modal:open" style="font-size: 15px;" >Search</a>
                </div>
                <div class="col-md-6" style="height: 50px;width: 50%; border-left: 1px solid black;">
                    <a href="#createLinkage"   id="createPopup" rel="modal:open" style="font-size: 10px;" >Multi Tables Create</a>
                </div>
            </div>
            <div class="col-md-12" style="border: 1px solid black; text-align: center; background-color: powderblue;font-size: 10px;">
                <div class="col-md-6" style="height: 50px;width: 50%;">
                    <a href="#updateLinkage"   id="updatePopup" rel="modal:open" style="font-size: 10px;" >Multi Tables Update</a>
                </div>
                <div class="col-md-6" style="height: 50px;width: 50%;border-left: 1px solid black;">
                    <a href="#plusLinkage"   id="updatePopup5" rel="modal:open" style="font-size: 10px;" >PlusKey</a>
                </div>
            </div>
            <h3 style="text-align: center; color: white; background-color:#1470e2">Flow</h3>
            <div class="col-md-12" style="border: 1px solid black; text-align: center; background-color: powderblue;font-size: 10px;">
                <div class="col-md-6" style="height: 50px;width: 50%;">
                    &nbsp;
                </div>
                <div class="col-md-6" style="height: 50px;width: 50%; border-left: 1px solid black;">
                    &nbsp;
                </div>
            </div>
            <div class="col-md-12" style="border: 1px solid black; text-align: center; background-color: powderblue;font-size: 10px;">
                <div class="col-md-6" style="height: 50px;width: 50%;">
                    &nbsp;
                </div>
                <div class="col-md-6" style="height: 50px;width: 50%;border-left: 1px solid black;">
                    &nbsp;
                </div>
            </div>

        </div>
        <div class="col-lg-8" style="border:1px solid black;" >
        <div class="col-lg-12" style="height: 60px; background-color: #1571e2; width: 100% !important; padding: 0px !important;margin: 0px !important;"></div>

            <div class="col-lg-12"  style="height: 800px; width: 100% !important; padding: 0px !important;margin: 0px !important;">
<div class="col-md-2">
        <ul class="nav side-menu" id="menuside">



        </ul>
 </div>

                <div class="col-md-10"  style="border: 1px solid black;height: 30px; !important; padding: 0px !important;margin: 0px !important;">
                    <div class="col-md-6 pull-right">
                    <input type="radio" name="operators" value="Save" id="saveoperator" onclick="operatorelement(this);">Save</input>
                    <input type="radio" name="operators" value="Edit" id="editoperator" onclick="operatorelement(this);">Edit</input>
                    <input type="radio" name="operators" value="List" id="listoperator" onclick="operatorelement(this);">List</input>
                    </div>
                </div>

                <div class="col-md-10" id="droppable" style="border: 1px solid black;height: 800px; !important; padding: 0px !important;margin: 0px !important;">

                </div>
            </div>
            <div class="col-lg-12" style="height: 60px; background-color: #1571e2; width: 100% !important; padding: 0px !important;margin: 0px !important;"></div>

            <button   type="button" id="saveTemplate" class="btn btn-default hi_btn pull-right">Save Template
            </button>



        </div>
        <div class="col-lg-2 col" style="max-height: 580px !important; overflow: scroll;" id="control">
        <div  id="form_control">
            <button   type="button" id="savePerms" class="btn btn-default hi_btn">Save
            </button>
            <h6 id="fieldid"></h6>
            <div id="dragid1">
            <input type="hidden" id="dragid" name="keyNames" class=form-control">
                <div id="pktPermissionId1"><label>pktPermissionId</label><input type="text" id="pktPermissionId" name=pktPermissionId class=form-control">
                </div><div id="keyName1"><label>keyName</label><input type="text" id="keyName" name="keyName" class="form-control">
            </div><div id="keyValue1"><label>keyValue</label><input type="text" id="keyValue" name="keyValue" class="form-control">
        </div><div id="keyPlaceHolder1"><label>keyPlaceHolder</label><input type="text" id="keyPlaceHolder" name="keyPlaceHolder" class="form-control">
        </div><div id="keyVisibility1"><label>keyVisibility</label><input type="text" id="keyVisibility" name="keyVisibility" class=form-control">
        </div><div id="keyValidation1"><label>keyValidation</label><input type="text" id="keyValidation" name="keyValidation" class=form-control">
        </div><div id="keyPriority1"><label>keyPriority</label><input type="text" id="keyPriority" name="keyPriority" class="form-control">
        </div><div id="keyAction1"><label>keyAction</label><input type="text" id="keyAction" name="keyAction" class="form-control">
        </div><div id="keyReference1"> <label>keyReference</label><input type="text" id="keyReference" name="keyReference" class=form-control">
        </div><div id="keyGroup1">  <label>keyGroup</label><input type="text" id="keyGroup" name="keyGroup" class="form-control">
        </div><div id="keySubscription1"> <label>keySubscription</label><input type="text" id="keySubscription" name=keySubscription class=form-control">
        </div><div id="keyTiming1"> <label>keyTiming</label><input type="text" id="keyTiming" name="keyTiming" class=form-control">
        </div><div id="status1"><label>status</label><input type="text" id="status" name="status" class="form-control">
        </div><div id="permission1"><label>permission</label><input type="text" id="permission" name="permission" class="form-control">
        </div><div id="descriptor1"><label>descriptor</label><input type="text" id="descriptor" name="descriptor" class="form-control">
        </div><div id="roundOff1"><label>roundOff</label><input type="text" id="roundOff" name="roundOff" class="form-control">
        </div><div id="sync1"><label>sync</label><input type="text" id="sync" name="sync" class="form-control">
        </div><div id="columnPosition1"> <label>columnPosition</label><input type="text" id="columnPosition" name=columnPosition class="form-control">
        </div><div id="operator1"><label>operator</label>
       <label>Save</label><input type="checkbox"  name="saveOp" value="true" class="form-control">
       <label>Edit</label><input type="checkbox"  name="editOp" value="true" class="form-control">
            <label>List</label><input type="checkbox"  name="listOp" value="true" class="form-control">
        </div><div id="columnName1"><label>columnName</label><input type="text" id="columnName" name="columnName" class="form-control">
            </div><div id="operation1"><label>operation</label><select id="operation" name="operation" class="form-control"></select>
        </div><div id="tableName1"><label>tableName</label><input type="text" id="tableName" name="tableName" class="form-control">
        </div><div id="inputType1"> <label>inputType</label><input type="text" id="inputType" name="inputType" class="form-control">
        </div><div id="menuKey1"><label>menuKey</label><input type="text" id="menuKey" name="menuKey" class="form-control">
        </div><div id="childKeys1"><label>childKeys</label><input type="text" id="childKeys" name=childKeys" class=form-control">
        </div><div id="searchkey1"><label>searchkey</label><input type="text" id="searchkey" name=searchkey" class=form-control">
        </div><div id="dropdownkey1"><label>dropdownkey</label><a href="#drop" rel="modal:open"> <input type="text" id="dropdownkey" name=dropdownkey" class=form-control"></a>
            </div><div id="calc_key1"><label>calc_key</label><a href="#calc_key" rel="modal:open">  <input type="text" id="calc_key" name="calc_key" class="form-control"></a>
        </div><div id="logicalopKey1"> <label>logicalopKey</label><a href="#logic" rel="modal:open"><input type="text" id="logicalopKey" name="logicalopKey" class=form-control"></a>
        </div><div id="top_pos1"> <label>top_pos</label><input type="text" id="top_pos" name="top_pos" class="form-control">
        </div><div id="width_pos1"> <label>width_pos</label><input type="text" id="width_pos" name="width_pos" class="form-control">
        </div><div id="left_pos1"> <label>left_pos</label><input type="text" id="left_pos" name="left_pos" class="form-control">
        </div><div id="height_pos1"> <label>height_pos</label><input type="text" id="height_pos" name="height_pos" class="form-control">
        </div><div id="position_pos1"><label>position_pos</label><input type="text" id="position_pos" name="position_pos" class="form-control">
        </div><div id="Alignment1"> <label>Alignment</label><input type="text" id="Alignment" name="Alignment" class=form-control">
        </div><div id="Height1"> <label>Height</label><input type="text" id="Height" name=Height class="form-control">
        </div><div id="max_Width1"><label>Max Width</label><input type="text" id="max_Width" name=Max Width class=form-control">
        </div><div id="max_Height1"><label>Max Height</label><input type="text" id="max_Height" name=Max Height class=form-control">
        </div><div id="min_Height1"><label>Min Height</label><input type="text" id="min_Height" name=Min Height class=form-control">
        </div><div id="min_Width1"> <label>Min Width</label><input type="text" id="min_Width" name=Min Width class=form-control">
        </div><div id="Font"> <label>Font</label><input type="text" id="Font name=Font class=form-control">
        </div><div id="Font_size1"> <label>Font Size</label><input type="text" id="Font_size" Size name=Font Size class=form-control">
        </div><div id="Weight1">  <label>Weight</label><input type="text" id="Weight" name=Weight class=form-control">
        </div><div id="Letter_Spacing1">  <label>Letter Spacing</label><input type="text" id="Letter_Spacing" name=Letter Spacing class=form-control">
        </div><div id="Font_Colour1"> <label>Font Colour</label><input type="text" id="Font_Colour"name=Font Colour class=form-control">
        </div><div id="Line_Height1"> <label>Line Height</label><input type="text" id="Line_Height" name=Line Height class=form-control">
        </div><div id="Decoration1"> <label>Decoration</label><input type="text" id="Decoration" name=Decoration class=form-control">
        </div><div id="Box_Shadow1"><label>Box Shadow</label><input type="text" id="Box_Shadow" name=Box Shadow class=form-control">
        </div><div id="X-Position1"><label>X-Position</label><input type="text" id="X-Position" name=X-Position class=form-control">
        </div><div id="Y-Position1"><label>Y-Position</label><input type="text" id="Y-Position" name=Y-Position class=form-control">
        </div><div id="Colour1"> <label>Colour</label><input type="text" id="Colour" name=Colour class=form-control">
        </div><div id="BackGround1"><label>BackGround Colour</label><input type="text" id="BackGround"  name=BackGround Colour class=form-control">
        </div><div id="Border_Width1"> <label>Border Width</label><input type="text" id="Border_Width" name=Border Width class=form-control">
        </div><div id="Border_Style1"><label>Border Style</label><input type="text" id="Border_Style" name=Border Style class=form-control">
        </div><div id="Border_Colour1"><label>Border Colour</label><input type="text" id="Border_Colour" name=Border Colour class=form-control">
        </div><div id="Size1"><label>Size</label><input type="text" id="Size" name="Size" class=form-control"></div>



    </div>
        </div>

    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $("#droppable").hide();
        $("#form_control").hide();
        var x = null;

        //Make element draggable
        $(".drag").draggable({
            helper: 'clone',
            cursor: 'move',
            tolerance: 'fit'
        });


            /*$(".editdrag").draggable({
                cursor: 'move',
                tolerance: 'fit'
            });
*/

        $('#droppable').delegate('.editdrag','mouseover',function(){


            $(this).draggable({
                cursor: 'move',
                tolerance: 'fit'
            });

            $(this).draggable({
                start: function (e, ui) {

                    //alert(elemid);



                },
            });

        });



        $(".editdrag").draggable({
            start: function (e, ui) {

                //alert(elemid);



            },
        });

        /*$(".drag").resizable({

         start: function (e, ui) {
         //var resize_id = $(this).closest('div').attr('id');
         var position = $(this).css("position");
         var left = ui.position.left + "px";
         var top = ui.position.top + "px";
         var width = ui.size.width + "px";
         var height = ui.size.height + "px";



         }
         });*/

        $("#droppable").droppable({

            drop: function (e, ui) {





                if ($(ui.draggable)[0].id != "") {
                    x = ui.helper.clone();

                    ui.helper.remove();
                    x.draggable({
                        helper: 'original',
                        containment: '#droppable',
                        tolerance: 'fit'
                    });
                    x.resizable({

                        maxHeight: 1000,
                        minHeight: 40,
                        minWidth: 50
                    });
                    x.appendTo('#droppable');
                }



                var left = ui.position.left + "px";
                var top = ui.position.top + "px";
                var position = "absolute";
                var width = $(x).css("width");
                var height = $(x).css("height");

            }
        });


    });
    var appidreport = getUrlVars1()["developerId"];
    function getUrlVars1() {
        var vars = {};
        var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
            vars[key] = value;
        });
        return vars;
    }

    var loc =location.origin;
    console.log(loc+"sahera");
    var option='';

    $.ajax({
        url: loc+'/services/getdevApplicationList?code='+appidreport,
        type:'POST',
        data:{},
        success:function(result){

            var data=result;
            var opt=data.object;
            for(index in opt) {

                var ob = opt[index];

                option+='<option value="'+ob.name+'">'+ob.name+'</option>';


            }

            $("#subscription").html(option);
            onloadapp();

        }
    });

    var pageURL = $(location).attr("href");

    var menulist='';

    function onloadapp() {

        var application = $("#subscription").val();
        option = '';
        var menuside = '';

        $.ajax({
            url: loc+'/services/getpktbuilderByApplication?application=' + application,
            type: 'POST',
            data: {},
            success: function (data) {

                var opt = jQuery.parseJSON(data.object.builderValue);
                menulist = opt;
                var i = 0;
                for (index in opt) {
                    i++;
                    var ob = opt[index];

                    option += '<option value="' + ob.menuName + '">' + ob.menuName + '</option>';
                    menuside += '<li ><a onclick="getMenuDetails(this,'+ob.tableRequired+','+ob.pageRequired+');" value="' + ob.menuName + '" id="' + i + '" href="#"><i  class="fa fa-shopping-bag" style="font-size:20px;color:#f0ad4e;"></i><span>' + ob.menuName + '</span></a><ul id="p' + i + '"></ul></li>';

                }

               // $("#moduleName").append(option);
                $("#menuside").html(menuside);



            }
        });
    }
    var permissionList = [];
    var jsonString='';
    $("#addMenus").click(function(){
        var application = $("#subscription").val();
        option='';
        var menuside='';

        $.ajax({
            url: loc+'/services/getpktbuilderByApplication?application='+application,
            type:'POST',
            data:{},
            success:function(data){

                var opt=jQuery.parseJSON(data.object.builderValue);
                menulist=opt;
                var i=0;
                for(index in opt) {
                    i++;
                    var ob = opt[index];

                    option+='<option value="'+ob.menuName+'">'+ob.menuName+'</option>';
                    menuside+='<li ><a onclick="subMenu1(this);" value="'+ob.menuName+'" id="'+i+'"><i  class="fa fa-shopping-bag" style="font-size:20px;color:#f0ad4e;"></i><span>'+ob.menuName+'</span></a><ul id="p'+i+'"></ul></li>';

                }

                $("#moduleName").append(option);
                $("#menuside").html(menuside);

               /* console.log(data);
                alert(data);*/


            }
        });

    });

    var i = 0;

    function operatorelement(objects){
        permissionList=[];
           var operators=$(objects).val();
               var menuname=$("#keyGroup").val();
               var application= $("#subscription").val();

        var htmlss='';
        $.ajax({
            url:'http://localhost:8096/services/permissionTableNameLists?tableName='+menuname + "&application=" +application,
            type:'POST',
            data:{},
            success:function(result){

                var subname=result.object;
                var i=0;
                for(index in subname) {

                    var sb = subname[index];
                    var checkedit=sb.operator;
                    checkedit=checkedit.split(' ');
                    if(checkedit[1]==operators) {

                        permissionList.push(subname[i]);


                        htmlss += '<div id="drag1" class="editdrag" style="height: '+sb.height_pos+';width: '+sb.width_pos+';top: '+sb.top_pos+';left: '+sb.left_pos+';position: '+sb.position_pos+'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><a href="#dropdown" rel="modal:open">open popup</a><label>' + sb.keyValue + '</label><input type="' + sb.inputType + '" name="' + sb.keyName + '" placeholder="' + sb.keyPlaceHolder + '" class="form-control" id="'+sb.dragid+'" onclick="opencontrol(this)" style="background: transparent;"></div>';
                    }
                    i++;

                }

                jsonString = JSON.stringify(permissionList);
                $("#droppable").html(htmlss);



            }
        });


    }
    function getMenuDetails(scope,tablereq,pagereq) {
        $("#editoperator").prop("checked", false);
        permissionList = [];
        $("#droppable").hide();
        $("#keyGroup").val('');
        var application = $("#subscription").val();
        var menuName = scope.innerText;
        var id=$(scope).attr('id');
        var destid='p'+id;
        option = '';
        var menuside = '';
        var flag=0;
        $.ajax({
            url: loc+'/services/getpktchildByApplication?application=' +application +"&menuName=" +menuName,
            type: 'POST',
            data: {},
            success: function (data) {

                var opt = data.object;
                menulist = opt;


                for (index in opt) {
                    i++;
                    var ob = opt[index];
                     if(ob.tableRequired=='true'){
                         flag++;
                     }
                    option += '<option value="' + ob.menuName + '">' + ob.menuName + '</option>';
                    menuside += '<li ><a onclick="getMenuDetailschild(this,'+ob.tableRequired+','+ob.pageRequired+');" value="' + ob.menuName + '" id="s' + i + '"><i  class="fa fa-shopping-bag" style="font-size:20px;color:#f0ad4e;"></i><span>' + ob.menuName + '</span></a><ul id="ts' + i + '"></ul></li>';

                }
                if(tablereq==true){
                   var htmlss='';
                    $.ajax({
                        url:loc+'/services/permissionTableNameLists?tableName='+menuName + "&application=" +application,
                        type:'POST',
                        data:{},
                        success:function(result){

                            var subname=result.object;
var i=0;
                            for(index in subname) {

                                var sb = subname[index];
                                var checkedit=sb.operator;
                                checkedit=checkedit.split(' ');
                                if(checkedit[1]=="Edit") {

                                    permissionList.push(subname[i]);

                                    if(sb.keyValidation!=""){
                                        htmlss += '<div id="drag1" class="editdrag" style="height: '+sb.height_pos+';width: '+sb.width_pos+';top: '+sb.top_pos+';left: '+sb.left_pos+';position: '+sb.position_pos+'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><a href="#dropdown" rel="modal:open">open popup</a><label>' + sb.keyValue + '</label><'+sb.keyValidation+' name="' + sb.keyName + '" id="'+sb.dragid+'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></'+sb.keyValidation+'></div>';


                                    }else{


                                        htmlss += '<div id="drag1" class="editdrag" style="height: '+sb.height_pos+';width: '+sb.width_pos+';top: '+sb.top_pos+';left: '+sb.left_pos+';position: '+sb.position_pos+'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><a href="#dropdown" rel="modal:open">open popup</a><label>' + sb.keyValue + '</label><input type="' + sb.inputType + '" name="' + sb.keyName + '" placeholder="' + sb.keyPlaceHolder + '" id="'+sb.dragid+'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></div>';


                                    }


                                     }
                                i++;

                            }

                            jsonString = JSON.stringify(permissionList);
                            $("#droppable").html(htmlss);

                            $("#editoperator").prop("checked", true);

                        }
                    })










                    $("#droppable").show();

                    var keygroup=scope.innerText;
                    $("#keyGroup").val(keygroup);
                }else{
                    $("#"+destid).html(menuside);
                }

            }
        });
    }

   // var html='<div id="drag1" class="editdrag" style="height: \'+sb.height_pos+\';width: \'+sb.width_pos+\';top: \'+sb.top_pos+\';left: \'+sb.left_pos+\';position: \'+sb.position_pos+\'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><label>\' + sb.keyValue + \'</label><input type="\' + sb.inputType + \'" name="\' + sb.keyName + \'" placeholder="\' + sb.keyPlaceHolder + \'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></div>';
   // html+='<div id="drag1" class="editdrag" style="height: \'+sb.height_pos+\';width: \'+sb.width_pos+\';top: \'+sb.top_pos+\';left: \'+sb.left_pos+\';position: \'+sb.position_pos+\'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><label>\' + sb.keyValue + \'</label><input type="\' + sb.inputType + \'" name="\' + sb.keyName + \'" placeholder="\' + sb.keyPlaceHolder + \'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></div>';
    //$("#droppable").html(html);
    function getMenuDetailschild(scope,tablereq,pagereq) {

        permissionList=[];
        $("#editoperator").prop("checked", true);

       // var html='<div id="drag1" class="editdrag" style="height: \'+sb.height_pos+\';width: \'+sb.width_pos+\';top: \'+sb.top_pos+\';left: \'+sb.left_pos+\';position: \'+sb.position_pos+\'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><label>\' + sb.keyValue + \'</label><input type="\' + sb.inputType + \'" name="\' + sb.keyName + \'" placeholder="\' + sb.keyPlaceHolder + \'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></div>';
        //html+='<div id="drag1" class="editdrag" style="height: \'+sb.height_pos+\';width: \'+sb.width_pos+\';top: \'+sb.top_pos+\';left: \'+sb.left_pos+\';position: \'+sb.position_pos+\'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><label>\' + sb.keyValue + \'</label><input type="\' + sb.inputType + \'" name="\' + sb.keyName + \'" placeholder="\' + sb.keyPlaceHolder + \'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></div>';
        //$("#droppable").append(html);
        $("#droppable").hide();
        $("#keyGroup").val('');
        var application = $("#subscription").val();
        var menuName = scope.innerText;
        var id=$(scope).attr('id');
        var destid='t'+id;
        option = '';
        var menuside = '';
        var flag=0;
        $.ajax({
            url: loc+'/services/getpktchildByApplication?application=' +application +"&menuName=" +menuName,
            type: 'POST',
            data: {},
            success: function (data) {

                var opt = data.object;
                menulist = opt;

                for (index in opt) {
                    i++;
                    var ob = opt[index];
                    if(ob.tableRequired=='true'){
                        flag++;
                    }

                    option += '<option value="' + ob.menuName + '">' + ob.menuName + '</option>';
                    menuside += '<li ><a onclick="gettabledetail(this,'+ob.tableRequired+','+ob.pageRequired+');" value="' + ob.menuName + '" id="' + i + '"><i  class="fa fa-shopping-bag" style="font-size:20px;color:#f0ad4e;"></i><span>' + ob.menuName + '</span></a><ul id="p' + i + '"></ul></li>';

                }
                if(tablereq==true){

                    var htmlss='';
                    $.ajax({
                        url: loc+'/services/permissionTableNameLists?tableName='+menuName + "&application=" +application,
                        type:'POST',
                        data:{},
                        success:function(result){
                            var subname=result.object;
                            var i=0;
                            for(index in subname) {

                                var sb = subname[index];
                                     var checkedit=sb.operator;
                                checkedit=checkedit.split(' ');
                                if(checkedit[1]=="Edit") {

                                    permissionList.push(subname[i]);
                                    if(sb.keyValidation!=""){
                                        htmlss += '<div id="drag1" class="editdrag" style="height: '+sb.height_pos+';width: '+sb.width_pos+';top: '+sb.top_pos+';left: '+sb.left_pos+';position: '+sb.position_pos+'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><a href="#dropdown" rel="modal:open">open popup</a><label>' + sb.keyValue + '</label><'+sb.keyValidation+' name="' + sb.keyName + '" id="'+sb.dragid+'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></'+sb.keyValidation+'></div>';


                                    }else{


                                        htmlss += '<div id="drag1" class="editdrag" style="height: '+sb.height_pos+';width: '+sb.width_pos+';top: '+sb.top_pos+';left: '+sb.left_pos+';position: '+sb.position_pos+'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><a href="#dropdown" rel="modal:open">open popup</a><label>' + sb.keyValue + '</label><input type="' + sb.inputType + '" name="' + sb.keyName + '" placeholder="' + sb.keyPlaceHolder + '" id="'+sb.dragid+'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></div>';


                                    }

                                    }

                                i++;

                            }



//htmlss="<div class=\"drag ui-draggable ui-resizable\" style=\"position: absolute; left: 75px; top: 182px;\"> <a href=\"#\" title=\"Remove Row\" class=\"remove pull-right\" style=\"color: #dc0c0c;font-size: 18px;font-weight: bold;\">x</a> <label>Text</label> <input type=\"text\" class=\"form-control\" onclick=\"opencontrol(this)\" style=\"background: transparent;\"><div class=\"ui-resizable-handle ui-resizable-e\"></div><div class=\"ui-resizable-handle ui-resizable-s\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se\" style=\"z-index: 1001;\"></div></div>";
                            jsonString = JSON.stringify(permissionList);

                            $("#editoperator").prop("checked", true);

                        }
                    })



                            var sendinfo={applicationName:"kundan",tableName:"user",pageName:"Edit"};
                             sendinfo=JSON.stringify(sendinfo);
                            $.ajax({
                                url: loc+'/services/getwebpermissionLists',
                                headers: {
                                    'Content-Type':'application/json'
                                },
                                type:'POST',
                                dataType: 'json',
                                data: sendinfo,
                                success: function(data){

                            var data=data.object;

                            for(index in data) {

                                var kk = data[index];

                                htmlss += '<'+kk.tagName+' id="drag1" class="'+kk.className+'" style="height: '+kk.ele_height+';width: '+kk.ele_width+';top: '+kk.ele_top+';left: '+kk.ele_left+';position: '+kk.position+';border:1px solid black;"></'+kk.tagName+'>';



                            }


                            $("#droppable").html(htmlss);

                        }
                    })



                    $("#droppable").show();

                    var keygroup=scope.innerText;
                    $("#keyGroup").val(keygroup);
                }else{
                    $("#"+destid).html(menuside);
                }

            }
        });
    }
   function gettabledetail(scope,tablereq,pagereq) {
       permissionList=[];
       $("#editoperator").prop("checked", false);
       var application = $("#subscription").val();
       if(tablereq==true){
           var menuName = scope.innerText;
       var htmlss='';
           $.ajax({
               url:loc+'/services/permissionTableNameLists?tableName='+menuName + "&application=" +application,
               type:'POST',
               data:{},
               success:function(result){

                   var subname=result.object;
var i=0;
                   for(index in subname) {

                       var sb = subname[index];
                       var checkedit=sb.operator;
                       checkedit=checkedit.split(' ');
                       if(checkedit[1]=="Edit") {

                           permissionList.push(subname[i]);
                          if(sb.keyValidation!=null || sb.keyValidation!=""){
                              htmlss += '<div id="drag1" class="editdrag" style="height: '+sb.height_pos+';width: '+sb.width_pos+';top: '+sb.top_pos+';left: '+sb.left_pos+';position: '+sb.position_pos+'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><a href="#dropdown" rel="modal:open">open popup</a><label>' + sb.keyValue + '</label><'+sb.keyValidation+' name="' + sb.keyName + '" id="'+sb.dragid+'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></'+sb.keyValidation+'></div>';


                          }else{


                              htmlss += '<div id="drag1" class="editdrag" style="height: '+sb.height_pos+';width: '+sb.width_pos+';top: '+sb.top_pos+';left: '+sb.left_pos+';position: '+sb.position_pos+'"><a href="#" title="Remove Row" class="remove pull-right" style="color: #dc0c0c;font-size: 18px;font-weight: bold;">x</a><a href="#dropdown" rel="modal:open">open popup</a><label>' + sb.keyValue + '</label><input type="' + sb.inputType + '" name="' + sb.keyName + '" placeholder="' + sb.keyPlaceHolder + '" id="'+sb.dragid+'" class="form-control" onclick="opencontrol(this)" style="background: transparent;"></div>';


                          }

                          }

                          i++;

                   }
                   jsonString = JSON.stringify(permissionList);

                   $("#droppable").html(htmlss);
                   $("#editoperator").prop("checked", true);
                   $("#droppable").show();

                   var keygroup=scope.innerText;
                   $("#keyGroup").val(keygroup);

               }
           });

       }
   }
    var subModuleList=[];
    $("#moduleName").change(function(){
        subModuleList=[];
        var suboption='';
        var menuside='';
        var val = $(this).val();
        for (var i = 0; i < menulist.length; i++) {
            if (val === menulist[i]['menuName']) {
                subModuleList[0] = jQuery.parseJSON(menulist[i]['ParentId']);
            }
        }
        subModuleList=subModuleList[0];
        var subname=subModuleList;
        for(index in subname) {

            var sb = subname[index];

            suboption+='<option value="'+sb.ParentValue+'">'+sb.ParentValue+'</option>';



        }

        $("#submoduleName").append(suboption);


    });
    var tablesList =[];
    function subMenu1(objects) {

        var id=$(objects).attr('id');
        var destid='p'+id;
        subModuleList=[];

        var suboption='';

        var val = objects.innerText;
        for (var i = 0; i < menulist.length; i++) {
            if (val === menulist[i]['menuName']) {
                subModuleList[0] = jQuery.parseJSON(menulist[i]['ParentId']);
            }
        }
        subModuleList=subModuleList[0];
        tablesList =subModuleList;
        var subname=subModuleList;
        for(index in subname) {

            var sb = subname[index];

            suboption+='<li ><a onclick="subpage(this);"><i  class="fa fa-shopping-bag" style="font-size:20px;color:#f0ad4e;"></i><span>'+sb.ParentValue+'</span></a></li>';



        }
        $("#"+destid).html(suboption);


    }


    $('body').delegate('.remove','click',function()
    {
        var v = $(this).closest("div").find(":input").attr('id');
        for (var i = 0; i < permissionList.length; i++) {
            if (permissionList[i].dragid == v) {
var pktid=permissionList[i].pktPermissionId;

                permissionList.splice(i,1);
                $.ajax({
                    url: loc+'/services/deletePermissions?permissionId='+pktid,
                    type:'POST',
                    data:{},
                    success:function(data){

                       alert(data);

                    }
                });


            }

        }

                $(this).parent().remove();
    });

    function subpage(objects){
        var id=$(objects).attr('id');
        var destid='p'+id;
        subModuleList=[];

        var suboption='';

        var val = objects.innerText;
        for (var i = 0; i < tablesList.length; i++) {
            if (val === tablesList[i]['ParentValue']) {
                subModuleList[0] = jQuery.parseJSON(tablesList[i]['ParentId']);
            }
        }
        subModuleList=subModuleList[0];
        var subname=subModuleList;
        for(index in subname) {

            var sb = subname[index];

            suboption+='<li ><a onclick="subpage(this);"><i  class="fa fa-shopping-bag" style="font-size:20px;color:#f0ad4e;"></i><span>'+sb.ParentValue+'</span></a></li>';



        }
        $("#"+destid).html(suboption);






        $("#droppable").show();

var keygroup=objects.innerText;
        $("#keyGroup").val(keygroup);

    }
    $("#saveMenu").click(function(){

        var details = { moduleName: $(moduleName).val(), subModule: $(submoduleName).val(), applicationName: $(subscription).val(),
            pageName: $(secondLevel).val(), name: $(givenName).val(),
            pageRequired: $("input[name=pageRequired]:checked").val(), tableRequired: $("input[name=tableRequired]:checked").val()};
        // var application = $(subscription).val();
        var sendinfo=JSON.stringify(details);


        $.ajax({
            url: loc+'/services/saveModules',
            headers: {
                'Content-Type':'application/json'
            },
            type:'POST',
            dataType: 'json',
            data: sendinfo,
            success: function(data){
                if(data.object==null){
                    alert("Table Already Exists");
                }
                else{
                    alert("Data Created Successfully");
                }
                console.log(data);

            }
        });


    });
    var typeresult='';
    function opencontrol(objects){


        $("#operation").html('');

        var url='';

        $("#form_control").show();


        var elemid= $(objects).attr('type');

        if(elemid==undefined){
            elemid=objects.localName;
        }

        var id=$(objects).attr('id');
        if(id==undefined){
            var currenttime=new Date().getTime();

            var fieldname=elemid+'_'+currenttime;
            $("#fieldid").text(fieldname);
            $(objects).attr('id',fieldname);

            $("#dragid").val(fieldname);

        }else{
            $("#fieldid").text(id);
            $("#dragid").val(id);
        }

        if(elemid=='text'){
            $("#keyReference").val('');
        }
        if(elemid == 'select'){
            var selectOpList =[];
            var application =$("#subscription").val();
            var option ='<option value="">SELECT</option>';
            $.ajax({
                url: loc+'/pkt/getOperatorListBasedOnApplication?subscription='+application,
                type: 'POST',
                data: {},
                success: function (data) {
                    var opt=data.object;
                    var i=0;
                    for(index in opt) {
                        i++;
                        var ob = opt[index];
                        option+='<option value="'+ob+'">'+ob+'</option>';

                    }
                    $("#"+fieldname).html(option);

                }
            })
        }
if(elemid=='select' || elemid=='textarea' || elemid=='button'){


    $("#keyValidation").val(elemid);
    $("#inputType").val('');
}else{

    $("#inputType").val(elemid);
    $("#keyValidation").val('');
}


        var left =$(objects).closest('div').css("left");
        var top = $(objects).closest('div').css("top");
        var position = $(objects).closest('div').css("position");

        var width = $(objects).closest('div').css("width");
        var height = $(objects).closest('div').css("height");
        url=elemid+'.json';


        $.ajax({
            url: url,
            type: 'GET',
            data: {},
            success: function (result) {

                var data=result;
                typeresult=result;
                jQuery.each(data, function(key,value){

                    if(value=="false"){

                        $("#"+key+"1").hide();

                    }

                })

            }
        });

        $("#top_pos").val(top);
        $("#width_pos").val(width);
        $("#left_pos").val(left);
        $("#height_pos").val(height);
        $("#position_pos").val(position);

        $("#pktPermissionId").val('');
        $("#keySubscription").val('');
        $("#keyValue").val('');
        $("#columnName").val('');
        $("#keyName").val('');
        $("#keyPlaceHolder").val('');


        $("#valueee").val('');
        $("#status").val('');
        $("#permission").val('');
        $("#sync").val('');
        $("#columnPosition").val('');
        $("#operator").val('');
        $("#operation").val('');
        $("#tableName").val('');
        $("#menuKey").val('');
        $("#childKeys").val('');
        $("#keyVisibility").val('');

        $("#keyPriority").val('');
        $("#keyAction").val('');


        $("#keyTiming").val('');
        $("#descriptor").val('');
        $("#roundOff").val('');
        $("#searchKey").val('');
        $("#dropDownKey").val('');



        for (var i = 0; i < permissionList.length; i++) {
            if (permissionList[i].dragid == id) {



                $("#pktPermissionId").val(permissionList[i].pktPermissionId);
                $("#keySubscription").val(permissionList[i].keySubscription);
                $("#keyValue").val(permissionList[i].keyValue);
                $("#columnName").val(permissionList[i].columnName);
                $("#keyName").val(permissionList[i].columnName);
                $("#keyPlaceHolder").val(permissionList[i].keyPlaceHolder);
                $("#inputType").val(permissionList[i].inputType);
                $("#top_pos").val(top);
                $("#left_pos").val(left);
                $("#width_pos").val(width);
                $("#height_pos").val(height);
                $("#position_pos").val(position);
                $("#valueee").val(permissionList[i].valueee);
                $("#status").val(permissionList[i].status);
                $("#permission").val(permissionList[i].permission);
                $("#sync").val(permissionList[i].sync);
                $("#columnPosition").val(permissionList[i].columnPosition);
                $("#operator").val(permissionList[i].operator);
                 $("#operation").val(permissionList[i].operation);
                $("#tableName").val(permissionList[i].tableName);
                $("#menuKey").val(permissionList[i].menuKey);
                $("#childKeys").val(permissionList[i].childKeys);
                $("#keyVisibility").val(permissionList[i].keyVisibility);

                $("#keyPriority").val(permissionList[i].keyPriority);
                $("#keyAction").val(permissionList[i].keyAction);
               /* $("#keyReference").val(permissionList[i].keyAction);*/
                $("#keyGroup").val(permissionList[i].keyGroup);
                $("#keyTiming").val(permissionList[i].keyTiming);
                $("#descriptor").val(permissionList[i].descriptor);
                $("#roundOff").val(permissionList[i].roundOff);
                $("#searchKey").val(permissionList[i].roundOff);
                $("#dropDownKey").val(permissionList[i].dropDownKey);


            }

        }

    }


function typeresults(url){

        var returnresult='';
    $.ajax({
        url: url,
        type: 'GET',
        data: {},
        success: function (result) {

            returnresult=result;
            return returnresult;

        }


    });




}

    $("#savePerms").click(function() {
        var flag = 0;
        var item={};
        var dragid=$("#dragid").val();


        $types=dragid.split('_');
        var url=$types[0]+'.json';




        var data=typeresult;

        jQuery.each(data, function(key,value){


            item[key] =$("#"+key).val();

            if(key=='keyName' || key=='keyValue' || key=='columnName'){

                item[key]=$("#keyValue").val();

            }

            if(key=='sync'){
                item[key]='yes';
            }if(key=='keySubscription'){
                item[key]=$("#subscription").val();

            }if(key=='status'){
                item[key]='Active';

            }if(key=='permission'){

                item[key]='visible';

            }

            if(key=='tableName' || key=='keyGroup'){

                item[key]=$("#keyGroup").val();

            }

            if(key=='valueee'){



                var valuee='{"Add":"false","Edit":"true","List":"true","Save":"true"}';
                item[key] =valuee;
            }



        })

        if ((permissionList.length) == 0) {
            permissionList.push(item);
        } else {
            for (var i = 0; i < permissionList.length; i++) {
                if (permissionList[i].dragid == dragid && permissionList[i].pktPermissionId==null) {


                    var dragid=$("#dragid").val();



                            var data=typeresult;
                    jQuery.each(data, function(key,value){


                        item[key] =$("#"+key).val();

                        if(key=='keyName' || key=='keyValue' || key=='columnName'){

                            item[key]=$("#keyValue").val();

                        }

                        if(key=='sync'){
                            item[key]='yes';
                        }if(key=='keySubscription'){
                            item[key]=$("#subscription").val();

                        }if(key=='status'){
                            item[key]='Active';

                        }if(key=='permission'){

                            item[key]='visible';

                        }

                        if(key=='tableName' || key=='keyGroup'){

                            item[key]=$("#keyGroup").val();

                        }

                        if(key=='valueee'){





                            if("List"==$("input[name='operators']:checked").val()){
                                var listOp='true';

                            }else{
                                var listOp='false';
                            }
                            if("Edit"==$("input[name='operators']:checked").val()){
                                var editOp='true';

                            }else{
                                var editOp='false';
                            }

                            if("Save"==$("input[name='operators']:checked").val()){
                                var saveOp='true';

                            }else{
                                var saveOp='false';
                            }




                            var valuee='{"Add":"false","Edit":"'+editOp+'","List":"'+listOp+'","Save":"'+saveOp+'"}';
                            item[key] =valuee;
                        }



                    })


                    console.log(item+"Kundan");

                    flag = 1;
                    break;


                }else if(permissionList[i].dragid == dragid && permissionList[i].pktPermissionId!=null){







                    var data=typeresult;
                    jQuery.each(data, function(key,value){


                        permissionList[i][key] =$("#"+key).val();

                        if(key=='keyName' || key=='keyValue' || key=='columnName'){

                            permissionList[i][key]=$("#keyValue").val();

                        }

                        if(key=='sync'){
                            permissionList[i][key]='yes';
                        }if(key=='keySubscription'){
                            permissionList[i][key]=$("#subscription").val();

                        }if(key=='status'){
                            permissionList[i][key]='Active';

                        }if(key=='permission'){

                            permissionList[i][key]='visible';

                        }

                        if(key=='tableName' || key=='keyGroup'){

                            permissionList[i][key]=$("#keyGroup").val();

                        }

                        if(key=='valueee'){





                            if("List"==$("input[name='operators']:checked").val()){
                                var listOp='true';

                            }else{
                                var listOp='false';
                            }
                            if("Edit"==$("input[name='operators']:checked").val()){
                                var editOp='true';

                            }else{
                                var editOp='false';
                            }

                            if("Save"==$("input[name='operators']:checked").val()){
                                var saveOp='true';

                            }else{
                                var saveOp='false';
                            }




                            var valuee='{"Add":"false","Edit":"'+editOp+'","List":"'+listOp+'","Save":"'+saveOp+'"}';
                            permissionList[i][key] =valuee;
                        }



                    })

                    flag = 1;
                    break;
                }

            }

            if (flag == 0) {
                permissionList.push(item);
            }

        }

        jsonString = JSON.stringify(permissionList);



    });
    $("#keyValue").keyup(function(){
        var data=$(this).val();

        var destid=$("#dragid").val();

        $("#"+destid).parent().find('label').text(data);


    });

    $("#saveTemplate").click(function() {
var kkk=jsonString;

        $.ajax({
            url: loc+'/pkt/saveFieldsWithPositions',
            headers: {
                'Content-Type':'application/json'
            },
            type:'POST',
            dataType: 'json',
            data: jsonString,
            success: function(data){
                console.log(data);
                alert(data);
            }
        });

    });



    $("#searchPopup").click(function(){
        getSelectedTabCols();

    });
    $("#flowPopup").click(function(){
        getSelectedTabCols();

    });

    $("#createPopup").click(function(){
        getAppTables('createPop');

    });

    $("#addCrOP").click(function(){
        getSelectedTabCols('fromTable');

    });
    $("#ToTabs").click(function(){
        getSelectedTabCols('toTable');

    });
    $("#updateLinkage").click(function () {
        getAppTables('updatePop');
    });
    $("#upToTab").click(function () {
        getSelectedTabCols('toTab');
    });


    function getSelectedTabCols(id) {
        var selectedTable = '';
        if(id =='fromTable'){
            selectedTable = $("#FromColumns").val();
        }
        else if(id =='toTable') {
            selectedTable = $("#ToTabs").val();
        }
        else if(id == 'updatePop'){
            selectedTable = $("#upFromTab").val();
        }
        else if(id == 'toTab'){
            selectedTable = $("#upToTab").val();
        }
        else {
             selectedTable = "Fess";
        }

        var application = $("#subscription").val();
        option='';
        $.ajax({
            url:loc+'/pkt/getPktFieldspermissions?tableName='+selectedTable + "&application=" + application,
            type:'POST',
            data:{},
            success: function(data){

                var opt=data.object;
                var i=0;
                for(index in opt) {
                    i++;
                    var ob = opt[index];
                    option+='<option value="'+ob.keyName+'">'+ob.keyName+'</option>';

                }
                if(id =='fromTable'){
                    $("#FromTabColumns").append(option);
                }
                else if(id =='toTable'){
                    $("#ToTabColumns").append(option);
                }
                else if(id =='updatePop'){
                    $("#upFromCol").append(option);
                    $("#upFromRel").append(option);
                }
                else if(id == 'toTab'){
                    $("#upToCol").append(option);
                    $("#upToRel").append(option);
                }
                else{
                    $("#tabColumns").append(option);
                }


            }
        });
    }
    function getAppTables(id) {
        option='';
        $.ajax({
            url:loc+'/pkt/getTablesListBasedOnApplication?name='+'TestingApp',
            type:'POST',
            data:{},
            success: function(data){

                var opt=data.object;
                var i=0;
                for(index in opt) {
                    i++;
                    var ob = opt[index];
                    option+='<option value="'+ob.keyName+'">'+ob.keyName+'</option>';

                }
                if(id=="createPop") {
                    $("#FromColumns").append(option);
                    $("#ToTabs").append(option);
                }
                else(id == 'updatePop')
                {

                    var tableName = 'Fess';
                    $("#upFromTab").val(tableName);
                    $("#upToTab").append(option);
                    getSelectedTabCols(id);
                }

            }
        });
    }
    function getSelListVal(id){

        var option ='<option value="">SELECT</option>';
        var value = $(id).val();
        $("#keyReference").val(value);
        var selectedTable = value.split(' ');
        var application = $("#subscription").val();

        $.ajax({
            url:loc+'/pkt/getPktFieldspermissions?tableName='+selectedTable[0] + "&application=" + application,
            type:'POST',
            data:{},
            success: function(data){

                var opt=data.object;
                var i=0;
                for(index in opt) {
                    i++;
                    var ob = opt[index];
                    option+='<option value="'+ob.keyName+'">'+ob.keyName+'</option>';

                }
                $("#operation").html(option);

            }
        });
    }

</script>

<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
    $(document).delegate('#menuside','mouseover',function(){

        $( "#menuside" ).menu();
    } );
</script>

    <script type="text/javascript">
        $(function()
        {
            $('#add').click(function()
            {
                addnewrow();
            });
            $('body').delegate('.remove1','click',function()
            {
                $(this).parent().parent().remove();
            });

        });

        function addnewrow()
        {

            var n=($('.detail tr').length-0)+1;
            var tr = '<tr  class="ng-scope" style="">'+
                '<td><select name="countryId" ng-model="dropdown.table" ng-options="table.keyName as table.keyValue for table in tableslist" class="form-control input-md ng-pristine ng-valid ng-empty ng-touched" ng-change="getfromcolumnlist(dropdown.table)" style=""><option value="" class="" selected="selected">-Select-</option><option label="user" value="string:user">user</option><option label="academic" value="string:academic">academic</option><option label="Customer" value="string:MM01">Customer</option></select></td>'+
        '<td><select name="countryId" ng-model="dropdown.fromcolumn" ng-options="field.fieldName as field.fieldName for field in fromcolumnlist" class="form-control input-md ng-pristine ng-untouched ng-valid ng-empty" ng-change="gettocolumnlist()"><option value="" class="" selected="selected">-Select-</option></select></td>'+
        '<td><select name="countryId" ng-model="dropdown.comparecolumn" ng-options="pktfields.fieldName as pktfields.fieldName for pktfields in tocolumnlist" class="form-control input-md ng-pristine ng-untouched ng-valid ng-empty"><option value="" class="" selected="selected">-Select-</option></select></td>'+
                '<td><button type="button" class="btn btn-default hi_btn remove1">X </button></td></tr>';
            $('.detail').append(tr);
        }
    </script>


    <script type="text/javascript">
        $(function()
        {
            $('#addcal').click(function()
            {
                addnewrowcal();
            });
            $('body').delegate('.removecal','click',function()
            {
                $(this).parent().parent().remove();
            });

        });

        function addnewrowcal()
        {

            var n=($('.detailcal tr').length-0)+1;
            var tr = '<tr ng-repeat="calculation in calculationlist " class="ng-scope" style="">'+
                '<td><select name="operand1" ng-model="calculation.operand1" ng-options="field.fieldName as field.fieldName for field in operand1list" class="form-control input-md ng-pristine ng-valid ng-empty ng-touched" style=""><option value="" class="" selected="selected">-Select-</option></select> </td>'+
        '<td><select name="operation" ng-model="calculation.operation" class="form-control input-md ng-pristine ng-valid ng-empty ng-touched" style=""><option value="" selected="selected">-Select-</option> <option value="+">Addition</option> <option value="-">Substraction</option> <option value="*">Multiplication</option> <option value="/">Division</option> </select> </td> ' +
                '<td><select name="operand2" ng-model="calculation.operand2" ng-options="field.fieldName as field.fieldName for field in operand1list" class="form-control input-md ng-pristine ng-untouched ng-valid ng-empty"><option value="" class="" selected="selected">-Select-</option></select> </td>'+
        '<td><select name="result" ng-model="calculation.result" ng-options="field.fieldName as field.fieldName for field in operand1list" class="form-control input-md ng-pristine ng-untouched ng-valid ng-empty"><option value="" class="" selected="selected">-Select-</option></select> </td>'+
        '<td><button type="button" class="btn btn-default hi_btn removecal" ng-click="removeAddNewCalculation()">X </button> </td></tr>';
            $('.detailcal').append(tr);
        }
    </script>

    <script type="text/javascript">
        $(function()
        {
            $('#addlogic').click(function()
            {
                addnewrowlogic();
            });
            $('body').delegate('.removelogic','click',function()
            {
                $(this).parent().parent().remove();
            });

        });

        function addnewrowlogic()
        {

            var n=($('.detaillogic tr').length-0)+1;
            var tr = '<tr ng-repeat="condition in conditionalList " class="ng-scope" style="">'+
                '<td><select name="operand1" ng-model="condition.operand1" ng-options="field.fieldName as field.fieldName for field in operand1list" class="form-control input-md ng-pristine ng-untouched ng-valid ng-empty"><option value="" class="" selected="selected">-Select-</option></select></td>'+
                '<td><select name="operation" ng-model="condition.operation" class="form-control input-md ng-pristine ng-valid ng-empty ng-touched" style=""> <option value="" selected="selected">-Select-</option> <option value=">">Greater Than</option> <option value="">Less Than</option> </select></td>'+
        '<td><select name="operand2" ng-model="condition.operand2" ng-options="field.fieldName as field.fieldName for field in operand1list" class="form-control input-md ng-pristine ng-untouched ng-valid ng-empty"><option value="" class="" selected="selected">-Select-</option></select></td>'+
        '<td> <input name="operand2" ng-model="condition.result" class="form-control input-md ng-pristine ng-untouched ng-valid ng-empty" ng-click="Calculation($index)"></td>'+
            '<td> <button type="button" class="btn btn-default hi_btn removelogic" ng-click="removeAddNewCondition()">X </button> </td>'+
                '</tr>';
            $('.detaillogic').append(tr);
        }
    </script>
    <style>
    .ui-menu { width: 150px; }
</style>
</div>
</div>
</body>

</html>